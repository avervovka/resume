// lang.js

const translations = {
  en: {
    page_title: "Uladzimir Zadarozhny — Senior QA Engineer",
    nav_summary: "Summary",
    nav_contacts: "Contacts",
    nav_skills: "Skills",
    nav_education: "Education",
    nav_languages: "Languages",
    nav_references: "References",
    nav_experience: "Experience",
    nav_certificates: "Certificates",
    title: "Uladzimir Zadarozhny",
    subtitle: "Senior Manual & Automation QA / QC Engineer",
    email_label: "Email:",
    phone_label: "Phone:",
    viber: "Viber",
    telegram: "Telegram",
    linkedin_label: "LinkedIn:",
    professional_summary_heading: "Professional Summary",
    professional_summary_text:
      "Dedicated and innovative <strong>Senior QA Engineer</strong> with 6+ years of expertise in both hardware and software testing, across Web, IoT, and consumer electronics. Skilled at designing bulletproof test strategies, driving process improvements, and collaborating with global teams to ensure outstanding product quality.",
    core_competencies_heading: "Core Competencies",
    testing_item: "Testing: Manual, Functional, Regression & Non-Functional",
    integration_item: "Integration: Hardware-Software Integration",
    api_testing_item: "API Testing: Postman, Swagger",
    automation_item: "Automation: Selenium with Python (Pytest)",
    programming_item: "Programming: Python",
    tools_item: "Tools: Jira, Confluence, Trello, Youtrack, Redmine, Testrail",
    databases_item: "Databases: MySQL, DBeaver, Postico",
    os_item: "Operating Systems: Linux, macOS, Windows",
    other_item: "Other: Git, Bash, CI/CD",
    education_heading: "Education",
    education_bsc: "B.Sc. Electrical Engineering — Belarusian State Agrarian Technical University (2013–2018)",
    education_course: "QA Engineer Course — IT-ACADEMY (2019)",
    languages_heading: "Languages",
    lang_russian: "Russian (Native)",
    lang_english: "English (C1)",
    lang_polish: "Polish (A2)",
    lang_german: "German (A1)",
    references_heading: "References",
    experience_heading: "Professional Experience",
    job1_title: "QA/QC Engineer — Nero Electronics (Unic Lab), Minsk, Belarus",
    job1_dates: "Dec 2024 – Present",
    job1_desc: [
      "Develop and maintain automated Python test scripts for precision measurement instruments, ensuring rigorous product validation.",
      "Manage and update test benches that closely replicate real-world operating environments to guarantee reliability.",
      "Collaborate directly with development teams and clients to meet and exceed quality standards for all delivered solutions."
    ],
    job2_title: "Senior QA / QC Engineer — Freelance, Worldwide",
    job2_dates: "Jun 2023 – Dec 2024",
    job2_desc: [
      "Performed functional and API testing of modern educational web platforms using Postman and Swagger.",
      "Conducted full-cycle hardware and software testing for a massage robot project targeting a Dubai-based client.",
      "Ensured timely detection and clear documentation of defects, contributing directly to product improvements and user satisfaction."
    ],
    job3_title: "Senior QA / QC Engineer — Rozum Robotics, Minsk, Belarus",
    job3_dates: "Sep 2022 – Jun 2023",
    job3_desc: [
      "Introduced and enforced quality standards for robotic products, enhancing their reliability and compliance with requirements.",
      "Mentored junior QA engineers, promoting the use of advanced testing methodologies and effective tools.",
      "Maintained hardware test benches in top condition to enable accurate and repeatable testing procedures."
    ],
    job4_title: "Senior QA / QC Engineer — Clever Labs, Minsk, Belarus",
    job4_dates: "Apr 2021 – Sep 2022",
    job4_desc: [
      "Led end-to-end testing for a complex US-based insurance web application, ensuring stability and compliance.",
      "Worked directly with clients and internal teams, streamlining communication and delivering crisp technical documentation.",
      "Optimized QA processes, significantly reducing defect resolution time and accelerating release cycles."
    ],
    job5_title: "QA/QC Engineer — Zorachka, Minsk, Belarus",
    job5_dates: "Oct 2019 – Apr 2021",
    job5_desc: [
      "Designed and executed comprehensive test scenarios for a multifunctional smart camera, maintaining high quality standards.",
      "Performed thorough mobile application testing, identifying and documenting critical issues for rapid resolution.",
      "Developed and maintained detailed technical documentation to support developers and end-users alike."
    ],
    certificates_heading: "Certificates",
    certificate1: "Selenium Python",
    certificate2: "Python OOP",
    certificate3: "HTML & CSS",
    certificate4: "Python Programming",
    certificate5: "Python Generation",
    certificate6: "Python by Sergei Balakirev",
    footer_text: "© 2025 Uladzimir Zadarozhny. All rights reserved."
  },
  ru: {
    page_title: "Владимир Задорожный — Старший QA инженер",
    nav_summary: "Обо мне",
    nav_contacts: "Контакты",
    nav_skills: "Навыки",
    nav_education: "Образование",
    nav_languages: "Языки",
    nav_references: "Рекомендации",
    nav_experience: "Опыт работы",
    nav_certificates: "Сертификаты",
    title: "Владимир Задорожный",
    subtitle: "Senior QA инженер (ручное и автоматизированное тестирование)",
    email_label: "Почта:",
    phone_label: "Телефон:",
    viber: "Viber",
    telegram: "Telegram",
    linkedin_label: "LinkedIn:",
    professional_summary_heading: "Профессиональное резюме",
    professional_summary_text:
      "Посвятивший себя делу и инновациям <strong>Senior QA Engineer</strong> с 6+ летним опытом как аппаратного, так и программного тестирования в сферах Web, IoT и бытовой электроники. Опыт создания надежных стратегий тестирования, оптимизации процессов и сотрудничества с международными командами для обеспечения высокого качества продуктов.",
    core_competencies_heading: "Ключевые компетенции",
    testing_item: "Тестирование: ручное, функциональное, регрессионное и нефункциональное",
    integration_item: "Интеграция: Hardware-Software Integration",
    api_testing_item: "API тестирование: Postman, Swagger",
    automation_item: "Автоматизация: Selenium на Python (Pytest)",
    programming_item: "Программирование: Python",
    tools_item: "Инструменты: Jira, Confluence, Trello, Youtrack, Redmine, Testrail",
    databases_item: "Базы данных: MySQL, DBeaver, Postico",
    os_item: "ОС: Linux, macOS, Windows",
    other_item: "Прочее: Git, Bash, CI/CD",
    education_heading: "Образование",
    education_bsc: "Бакалавр электротехники — Белорусский государственный аграрно-технический университет (2013–2018)",
    education_course: "Курс QA инженер — IT-ACADEMY (2019)",
    languages_heading: "Языки",
    lang_russian: "Русский (родной)",
    lang_english: "Английский (C1)",
    lang_polish: "Польский (A2)",
    lang_german: "Немецкий (A1)",  
    references_heading: "Рекомендации",
    experience_heading: "Опыт работы",
    job1_title: "QA/QC инженер — Nero Electronics (Unic Lab), Минск, Беларусь",
    job1_dates: "Дек 2024 – настоящее время",
    job1_desc: [
      "Разработка и поддержка автоматизированных тестов на Python для приборов точного измерения, обеспечивая строгую проверку качества.",
      "Поддержка и обновление тестовых стендов, максимально приближенных к реальным условиям эксплуатации для обеспечения надежности.",
      "Сотрудничество с командами разработки и клиентами для достижения и превосходства стандартов качества."
    ],
    job2_title: "Старший инженер QA/QC — Фриланс, по всему миру",
    job2_dates: "Июн 2023 – Дек 2024",
    job2_desc: [
      "Функциональное и API тестирование современных образовательных веб-платформ с использованием Postman и Swagger.",
      "Полный цикл аппаратного и программного тестирования массажного робота для клиента из Дубая.",
      "Обеспечение своевременного выявления и четкой документации дефектов, способствующих улучшению продукта и удовлетворенности пользователей."
    ],
    job3_title: "Старший инженер QA/QC — Rozum Robotics, Минск, Беларусь",
    job3_dates: "Сен 2022 – Июн 2023",
    job3_desc: [
      "Внедрение и поддержка стандартов качества для робототехнической продукции, повышение надежности и соответствия требованиям.",
      "Наставничество младших QA инженеров, продвижение современных методов тестирования и эффективных инструментов.",
      "Поддержание тестовых стендов аппаратного обеспечения в идеальном состоянии для точных и повторяемых тестов."
    ],
    job4_title: "Старший инженер QA/QC — Clever Labs, Минск, Беларусь",
    job4_dates: "Апр 2021 – Сен 2022",
    job4_desc: [
      "Руководство полным циклом тестирования сложного страхового веб-приложения для США, обеспечение стабильности и соответствия.",
      "Взаимодействие с клиентами и внутренними командами, оптимизация коммуникаций и технической документации.",
      "Оптимизация процессов QA, значительное сокращение времени на исправление дефектов и ускорение релизов."
    ],
    job5_title: "Инженер QA/QC — Зорочка, Минск, Беларусь",
    job5_dates: "Окт 2019 – Апр 2021",
    job5_desc: [
      "Разработка и реализация комплексных сценариев тестирования многофункциональной умной камеры, поддержание высокого уровня качества.",
      "Тщательное тестирование мобильного приложения, выявление и фиксация критических проблем для быстрого устранения.",
      "Создание и поддержку подробной технической документации для разработчиков и конечных пользователей."
    ],
    certificates_heading: "Сертификаты",
    certificate1: "Selenium Python",
    certificate2: "Python OOP",
    certificate3: "HTML & CSS",
    certificate4: "Python Programming",
    certificate5: "Python Generation",
    certificate6: "Python от Сергея Балакирева",
    footer_text: "© 2025 Владимир Задорожный. Все права защищены."
  }
};

function switchLanguage(lang) {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    const value = translations[lang][key];
    if (value != null) {
      if (Array.isArray(value)) {
        el.innerHTML = value.map(item => `<li>${item}</li>`).join('');
      } else if (key === 'professional_summary_text') {
        el.innerHTML = value;
      } else {
        el.textContent = value;
      }
    }
  });
  localStorage.setItem('siteLang', lang);
}

document.addEventListener('DOMContentLoaded', () => {
  const langBtn = document.getElementById('lang-toggle');
  const params = new URLSearchParams(window.location.search);
  const paramLang = params.get('lang');
  let lang = (paramLang === 'ru' || paramLang === 'en')
    ? paramLang
    : (localStorage.getItem('siteLang') || 'en');
  switchLanguage(lang);
  langBtn.textContent = lang.toUpperCase();

  langBtn.addEventListener('click', () => {
    const next = (localStorage.getItem('siteLang') === 'en') ? 'ru' : 'en';
    switchLanguage(next);
    langBtn.textContent = next.toUpperCase();
    // Update URL parameter
    const newParams = new URLSearchParams(window.location.search);
    newParams.set('lang', next);
    history.replaceState(null, '', `${window.location.pathname}?${newParams.toString()}`);
  });
});
